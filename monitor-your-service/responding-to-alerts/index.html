<!doctype html>
<html lang="en" class="govuk-template no-js">
  <head>
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>Responding to alerts - sre-monitoring-as-code</title>

    <link href="../../stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://ho-cto.github.io/sre-monitoring-as-code/monitor-your-service/responding-to-alerts/">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="ho-cto.github.io" />
      <meta name="twitter:image" content="https://ho-cto.github.io/sre-monitoring-as-code/images/govuk-large.png" />
      <meta name="twitter:title" content="Responding to alerts - sre-monitoring-as-code" />
      <meta name="twitter:url" content="https://ho-cto.github.io/sre-monitoring-as-code/monitor-your-service/responding-to-alerts/" />

      <meta property="og:image" content="https://ho-cto.github.io/sre-monitoring-as-code/images/govuk-large.png" />
      <meta property="og:site_name" content="sre-monitoring-as-code" />
      <meta property="og:title" content="Responding to alerts" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://ho-cto.github.io/sre-monitoring-as-code/monitor-your-service/responding-to-alerts/" />

    
  </head>

  <body class="govuk-template__body">
    <script>document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/sre-monitoring-as-code" class="govuk-header__link govuk-header__link--homepage">
        <span class="govuk-header__product-name">
          sre-monitoring-as-code
        </span>
      </a>
        <strong class="govuk-tag">INTERNAL</strong>
    </div>
    <div class="govuk-header__content">
      <nav class="govuk-header__navigation govuk-header__navigation--end" aria-label="Menu">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide menu">Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/">Documentation</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body" data-module="in-page-navigation">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1" aria-label="Table of contents" role="dialog">
              <div class="search" data-module="search" data-path-to-site-root="../../">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://ho-cto.github.io/sre-monitoring-as-code"/>
    <label class="govuk-label search__label" for="search" aria-hidden="true">
      Search (via Google)
    </label>
    <input
      type="text"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading" data-module="collapsible-navigation">
                      <ul>
  <li>
    <a href="../../index.html"><span>Home Office Monitoring-as-Code Overview</span></a>
    <ul>
      <li>
        <a href="../../index.html#how-mac-works"><span>How MaC works</span></a>
      </li>
    </ul>
  </li>
<li><a href="../../get-started/index.html"><span>Get started</span></a>
<ul>
  <li>
    <a href="../../get-started/install/index.html"><span>Get MaC up and running on your local environment</span></a>
    <ul>
      <li>
        <a href="../../get-started/install/index.html#clone-the-repository-onto-your-local-machine"><span>Clone the repository onto your local machine</span></a>
      </li>
      <li>
        <a href="../../get-started/install/index.html#install-pre-requisites"><span>Install pre-requisites</span></a>
      </li>
      <li>
        <a href="../../get-started/install/index.html#test-your-installation"><span>Test your installation</span></a>
      </li>
    </ul>
  </li>
  <li>
    <a href="../../get-started/distribute/index.html"><span>Distribute MaC on your environment</span></a>
  </li>
</ul>
</li>
  <li>
    <a href="../../interpret-mac/index.html"><span>Interpret Monitoring-as-Code outputs</span></a>
    <ul>
      <li>
        <a href="../../interpret-mac/index.html#error-budget-burn-rate-rules"><span>Error budget burn-rate rules</span></a>
        <ul>
          <li>
            <a href="../../interpret-mac/index.html#burn-rate-windows"><span>Burn-rate windows</span></a>
          </li>
          <li>
            <a href="../../interpret-mac/index.html#burn-rate-rules"><span>Burn-rate rules</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="../../interpret-mac/index.html#alerting"><span>Alerting</span></a>
        <ul>
          <li>
            <a href="../../interpret-mac/index.html#standardised-alerts"><span>Standardised alerts</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="../../interpret-mac/index.html#sli-recording-rules"><span>SLI recording rules</span></a>
        <ul>
          <li>
            <a href="../../interpret-mac/index.html#sli-value"><span>SLI Value</span></a>
          </li>
          <li>
            <a href="../../interpret-mac/index.html#http-availability"><span>HTTP availability</span></a>
          </li>
          <li>
            <a href="../../interpret-mac/index.html#http-latency"><span>HTTP latency</span></a>
          </li>
          <li>
            <a href="../../interpret-mac/index.html#sli-percentage"><span>SLI percentage</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="../../interpret-mac/index.html#time-window-based-slos"><span>Time window based SLOs</span></a>
      </li>
      <li>
        <a href="../../interpret-mac/index.html#sli-menu"><span>Service-level indicator menu</span></a>
        <ul>
          <li>
            <a href="../../interpret-mac/index.html#overview"><span>Overview</span></a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
<li><a href="../../monitor-your-service/index.html"><span>Monitor your service</span></a>
<ul>
  <li>
    <a href="../../monitor-your-service/responding-to-alerts/index.html"><span>Responding to alerts</span></a>
    <ul>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#problem-report"><span>Problem report</span></a>
      </li>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#triage"><span>Triage</span></a>
      </li>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#examine"><span>Examine</span></a>
        <ul>
          <li>
            <a href="../../monitor-your-service/responding-to-alerts/index.html#product-view"><span>product-view</span></a>
          </li>
          <li>
            <a href="../../monitor-your-service/responding-to-alerts/index.html#journey-view"><span>journey-view</span></a>
          </li>
          <li>
            <a href="../../monitor-your-service/responding-to-alerts/index.html#detail-view"><span>detail-view</span></a>
          </li>
        </ul>
      </li>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#diagnose"><span>Diagnose</span></a>
      </li>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#test--treat"><span>Test / Treat</span></a>
      </li>
      <li>
        <a href="../../monitor-your-service/responding-to-alerts/index.html#cure"><span>Cure</span></a>
      </li>
    </ul>
  </li>
</ul>
</li>
  <li>
    <a href="../../adopt-sre-with-slo/index.html"><span>Adopting SRE with Service Level Objectives</span></a>
    <ul>
      <li>
        <a href="../../adopt-sre-with-slo/index.html#adopting-sre-with-service-level-objectives-1"><span>Adopting SRE with Service Level Objectives</span></a>
        <ul>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#concepts-in-monitoring-using-slos"><span>Concepts in monitoring using SLOs</span></a>
          </li>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#terminology"><span>Terminology</span></a>
          </li>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#how-we-measure-reliability"><span>How we measure reliability</span></a>
          </li>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#setting-service-level-indicators-for-your-service"><span>Setting Service Level Indicators for your service</span></a>
          </li>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#continuous-improvement-of-slos"><span>Continuous improvement of SLOs</span></a>
          </li>
          <li>
            <a href="../../adopt-sre-with-slo/index.html#further-reading"><span>Further Reading</span></a>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>


              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
            <h1 id="responding-to-alerts">Responding to alerts</h1>

<p>Debugging a digital service is never as clean as the idealized model presented below. However, using a combination of alerts, system metrics in dashboards and logs can help understand the current operating state. Google SRE has presented some useful steps below that can make the process less painful and more productive. We have overlayed how our Monitoring-as-Code framework can support those users responding to system problems.</p>

<p><img src="../../images/responding-to-alerts.png" alt="responding to alerts" /></p>

<p>Diagram courtesy of <a href="https://sre.google/sre-book/effective-troubleshooting/">Effective Troublshooting - Google SRE Workbook</a></p>

<h2 id="problem-report">Problem report</h2>

<p>Every digital service issue starts with a problem report, which might be an automated alert or one of our users saying, “The system is slow.” Monitoring-as-Code will deliver an automated alert if an SLO is in danger of being breached. Depending on how quickly the Error Budget is forecast to breach will determine what level of alert is triggered. Below we have detailed the typical makeup of an alert.</p>

<div class="highlight"><pre class="highlight plaintext"><code>ALERT: grapi - severity: 2 - Availability - FLAPI Create Email Address Write Back API
Alert from HO-Monitoring &lt;dashboard-link&gt; &lt;silence-link&gt; &lt;runbook-link&gt;
• alertname: grapi_writeback_SLI05_ErrorBudgetBurn
• assignment_group: Great Respect API
• ci_type: CMDB_CI_Service_Auto
• configuration_item: Great Respect API (App Svc)
• description: SLI05 (writeback journey) is likely to exhaust error budget in less than 1.17 days
• environment: localhost
• event_class: HO Prometheus
• factor: 6
• host: localhost
• journey: writeback
• metric_name: http-errors
• node: Great Respect API
• resource: Great Respect API
• service: grapi
• severity: 2
• short_description: Availability - GRAPI Create Email Address Write Back API
• slo: SLI05
• title: 2 ALERT! localhost - grapi SLI05 - Percentage of time Availability - GRAPI Create Email Address Write Back API
• type: http-errors
• wait_for: 2m
• time_of_event: 2022-05-16 10:31:46.528812845 +0000 UTC
</code></pre></div>
<p>On receipt of an alert you should: -</p>

<ol>
  <li>Assess the title, description and severity to ascertain the category of issue, which SLI the alert relates to and how many users are impacted (based on the severity of issue).</li>
  <li>Use the dashboard links to navigate to the monitors for further diagnoses.</li>
</ol>

<h2 id="triage">Triage</h2>

<p>On receipt of an alert and in the absence of auto-ticketing. You should create an ServiceNow incident populating the fields using the alert labels provided for <strong>Primary Service Impacted</strong>, <strong>Configuration Item</strong>, <strong>Assignment Group</strong> and <strong>Severity</strong>.</p>

<h2 id="examine">Examine</h2>

<h3 id="product-view">product-view</h3>

<p>Consult the product-view dashboard (pictured below) to confirm the SLI which is at risk of breaching its SLO. Select the associated SLI to drill-down into the journey-view.</p>

<p><img src="../../images/product-view.png" alt="Product view dashboard" /></p>

<h3 id="journey-view">journey-view</h3>

<p>Use the journey-view dashboard (pictured below) to discover remaining error budget, the error rate spikes that have caused the forecasted breack of SLO before drilling down to the detail view.</p>

<p><img src="../../images/journey-view.png" alt="Journey view dashboard" /></p>

<h3 id="detail-view">detail-view</h3>

<p>Use the detail-view dashboard (pictured below) to drill into the telemetry label values in greater detail. For example with availability http errors use the dashboard to identify which paths and status codes are contributing to the error budget burn.</p>

<p><img src="../../images/detail-view.png" alt="Detail view dashboard" /></p>

<h2 id="diagnose">Diagnose</h2>

<p>With a better understanding of the symptoms (in the example above http errors), it is now important to unpacking the causes of a symptom and ask the "what," "where," and "why".</p>

<p>Use a combination of logs (pictured below) and monitors to find out what it’s doing, then asking why it’s doing that and where its resources are being used or where its output is going can help you understand how things have gone wrong.</p>

<h2 id="test--treat">Test / Treat</h2>

<h2 id="cure">Cure</h2>

            
          </main>

          <aside>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">


      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="../../javascripts/application.js"></script>
  </body>
</html>
